import{a6 as h,m as o,q as l,t,ae as G,c as w,f as L,I as d,O as R,u as s,r as B,a as F,s as O,k as Q,h as Z,af as J,a3 as K,R as r,Q as C,N as T,x as U,W as X,F as Y}from"./vendor-Db8_RCGK.js";import{_ as ee,a as te}from"./zoom-in-CqtkpI_Y.js";import{a as se,u as oe,c as ne,d as re,h as ie,s as ae,j as le,k as ce,l as ue,m as de,n as me,_ as pe}from"./index-DTw3kyuO.js";import{e as _e,f as ve,c as A,S as fe}from"./slidev/SlideWrapper-Bu4y5zet.js";import{r as xe,u as he,a as ge,S as ke,_ as Ce,G as we,b as ye,c as be,o as Se}from"./slidev/shortcuts-B--eBTco.js";import{_ as $e,C as ze}from"./slidev/NoteDisplay.vue_vue_type_style_index_0_lang-qBwAxCyy.js";import{_ as Me}from"./DrawingControls.vue_vue_type_style_index_0_lang-F4iONaGs.js";import{_ as H}from"./slidev/IconButton.vue_vue_type_script_setup_true_lang-CpuhRaqC.js";import"./minimize-oq2ZXxF0.js";import"./presentation-file-Be1g4CC6.js";import"./user-speaker-CHR6Y1MK.js";import"./slidev/context-Cg8A2WEf.js";const Ve={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Ne(i,e){return o(),l("svg",Ve,e[0]||(e[0]=[t("path",{fill:"currentColor",d:"M12 10H6.78A11 11 0 0 1 27 16h2A13 13 0 0 0 6 7.68V4H4v8h8zm8 12h5.22A11 11 0 0 1 5 16H3a13 13 0 0 0 23 8.32V28h2v-8h-8z"},null,-1)]))}const Be=h({name:"carbon-renew",render:Ne}),Fe={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Te(i,e){return o(),l("svg",Fe,e[0]||(e[0]=[t("path",{fill:"currentColor",d:"M7 28a1 1 0 0 1-1-1V5a1 1 0 0 1 1.482-.876l20 11a1 1 0 0 1 0 1.752l-20 11A1 1 0 0 1 7 28M8 6.69v18.62L24.925 16Z"},null,-1)]))}const Ae=h({name:"carbon-play",render:Te}),He={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Le(i,e){return o(),l("svg",He,e[0]||(e[0]=[t("path",{fill:"currentColor",d:"M12 8v16H8V8zm0-2H8a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2m12 2v16h-4V8zm0-2h-4a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2"},null,-1)]))}const Re=h({name:"carbon-pause",render:Le}),Ie={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Pe(i,e){return o(),l("svg",Ie,e[0]||(e[0]=[t("path",{fill:"currentColor",d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14m0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4"},null,-1),t("path",{fill:"currentColor",d:"M20.59 22L15 16.41V7h2v8.58l5 5.01z"},null,-1)]))}const De=h({name:"carbon-time",render:Pe}),Ee={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function We(i,e){return o(),l("svg",Ee,e[0]||(e[0]=[t("path",{fill:"currentColor",d:"M2 26h28v2H2zM25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4zm-5-5L24 7.6l-3 3L17.4 7zM6 22v-3.6l10-10l3.6 3.6l-10 10z"},null,-1)]))}h({name:"carbon-edit",render:We});function je(){const{counter:i,isActive:e,reset:a,pause:m,resume:_}=G(1e3,{controls:!0});return{timer:w(()=>{const p=i.value,y=Math.floor(p%60).toString().padStart(2,"0");return`${Math.floor(p/60).toString().padStart(2,"0")}:${y}`}),isTimerAvctive:e,resetTimer:a,toggleTimer:()=>e.value?m():_()}}const qe=L({__name:"NoteStatic",props:{no:{},class:{},clicksContext:{}},setup(i){const e=i,{info:a}=_e(e.no);return(m,_)=>{var v,p;return o(),d($e,{class:R(e.class),note:(v=s(a))==null?void 0:v.note,"note-html":(p=s(a))==null?void 0:p.noteHTML,"clicks-context":m.clicksContext},null,8,["class","note","note-html","clicks-context"])}}}),Ge={class:"bg-main h-full slidev-presenter"},Oe={class:"relative grid-section next flex flex-col p-2 lg:p-4"},Qe={key:1,class:"h-full flex justify-center items-center"},Ze={key:0,class:"grid-section note of-auto"},Je={key:1,class:"grid-section note grid grid-rows-[1fr_min-content] overflow-hidden"},Ke={class:"border-t border-main py-1 px-2 text-sm"},Ue={class:"grid-section bottom flex"},Xe={class:"group flex items-center justify-center pl-4 select-none"},Ye={class:"w-22px cursor-pointer"},et={class:"group-not-hover:hidden flex flex-col items-center"},tt={class:"text-2xl px-3 my-auto tabular-nums"},st={class:"progress-bar"},ot=L({__name:"presenter",setup(i){const e=B();xe(),he(e),ge();const{clicksContext:a,currentSlideNo:m,currentSlideRoute:_,hasNext:v,nextRoute:p,slides:y,getPrimaryClicks:$,total:I}=se(),{isDrawing:P}=ve();oe({title:`Presenter - ${ae}`}),B(!1);const{timer:D,isTimerAvctive:E,resetTimer:z,toggleTimer:M}=je(),W=w(()=>y.value.map(k=>ne(k))),c=w(()=>a.value.current<a.value.total?[_.value,a.value.current+1]:v.value?[p.value,0]:null),g=w(()=>c.value&&W.value[c.value[0].no-1]);F(c,()=>{g.value&&c.value&&(g.value.current=c.value[1])},{immediate:!0});const V=O();return Q(()=>{const k=e.value.querySelector("#slide-content"),n=Z(J()),b=K();F(()=>{if(!b.value||P.value||!ie.value)return;const u=k.getBoundingClientRect(),f=(n.x-u.left)/u.width*100,x=(n.y-u.top)/u.height*100;if(!(f<0||f>100||x<0||x>100))return{x:f,y:x}},u=>{re.cursor=u})}),(k,n)=>{var N;const b=ee,u=te,f=De,x=Re,j=Ae,q=Be;return o(),l(Y,null,[t("div",Ge,[t("div",{class:R(["grid-container",`layout${s(le)}`])},[t("div",{ref_key:"main",ref:e,class:"relative grid-section main flex flex-col"},[r(A,{key:"main",class:"p-2 lg:p-4 flex-auto","is-main":"",onContextmenu:s(Se)},{default:C(()=>[r(ke,{"render-context":"presenter"})]),_:1},8,["onContextmenu"]),(o(),d(ze,{key:(N=s(_))==null?void 0:N.no,"clicks-context":s($)(s(_)),class:"w-full pb2 px4 flex-none"},null,8,["clicks-context"])),n[4]||(n[4]=t("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Current ",-1))],512),t("div",Oe,[c.value&&g.value?(o(),d(A,{key:"next"},{default:C(()=>[(o(),d(fe,{key:c.value[0].no,"clicks-context":g.value,route:c.value[0],"render-context":"previewNext"},null,8,["clicks-context","route"]))]),_:1})):(o(),l("div",Qe,n[5]||(n[5]=[t("div",{class:"text-gray-500"}," End of the presentation ",-1)]))),n[6]||(n[6]=t("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Next ",-1))]),V.value&&s(ce)?(o(),l("div",Ze,[r(s(V))])):(o(),l("div",Je,[(o(),d(qe,{key:`static-${s(m)}`,no:s(m),class:"w-full max-w-full h-full overflow-auto p-2 lg:p-4",style:T({fontSize:`${s(ue)}em`}),"clicks-context":s(a)},null,8,["no","style","clicks-context"])),t("div",Ke,[r(H,{title:"Increase font size",onClick:s(de)},{default:C(()=>[r(b)]),_:1},8,["onClick"]),r(H,{title:"Decrease font size",onClick:s(me)},{default:C(()=>[r(u)]),_:1},8,["onClick"]),U("v-if",!0)])])),t("div",Ue,[r(Ce,{persist:!0}),n[7]||(n[7]=t("div",{"flex-auto":""},null,-1)),t("div",Xe,[t("div",Ye,[r(f,{class:"group-hover:hidden text-xl"}),t("div",et,[t("div",{class:"relative op-80 hover:op-100",onClick:n[2]||(n[2]=(...S)=>s(M)&&s(M)(...S))},[s(E)?(o(),d(x,{key:0,class:"text-lg"})):(o(),d(j,{key:1}))]),t("div",{class:"op-80 hover:op-100",onClick:n[3]||(n[3]=(...S)=>s(z)&&s(z)(...S))},[r(q)])])]),t("div",tt,X(s(D)),1)])]),(o(),d(Me,{key:2}))],2),t("div",st,[t("div",{class:"progress h-3px bg-primary transition-all",style:T({width:`${(s(m)-1)/(s(I)-1)*100+1}%`})},null,4)])]),r(we),r(ye),r(be)],64)}}}),ft=pe(ot,[["__scopeId","data-v-15521ac8"]]);export{ft as default};
