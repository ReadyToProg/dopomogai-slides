import{Z as y,C as r,D as c,E as t,e as V,K as u,u as e,R as L,r as $,c as C,a as M,s as G,k as I,f as W,N as n,L as g,P as N,G as q,V as j,F as K}from"./slidev/vue-vendor-CZZTqpDj.js";import{_ as Z,a as J}from"./zoom-in-EJ0Kmzrn.js";import{b as O,a as Q,s as U,k as X,c as Y,l as ee,m as te,f as se,n as oe,q as ne,r as re,v as ae,x as le,y as ie,_ as ce}from"./index-BTRffk5C.js";import{e as ue,f as de,c as F,S as me}from"./slidev/SlideWrapper-D1wgKRkH.js";import{r as pe,u as _e,a as fe,S as ve,o as xe,_ as he,G as ke,b as ge,c as be}from"./slidev/shortcuts-BMMHtyuw.js";import{_ as Ce,C as ye}from"./slidev/NoteDisplay.vue_vue_type_style_index_0_lang-CHPY9vRW.js";import{_ as we}from"./DrawingControls.vue_vue_type_style_index_0_lang-b5bjcyGZ.js";import{_ as B}from"./slidev/IconButton.vue_vue_type_script_setup_true_lang-DRUIZVbG.js";import"./minimize-CWZkxzgF.js";import"./presentation-file-7eTKms9n.js";import"./user-speaker-j6_aqCS6.js";import"./slidev/context-DTVAQnuy.js";const Se={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function ze(d,s){return r(),c("svg",Se,s[0]||(s[0]=[t("path",{fill:"currentColor",d:"M12 10H6.78A11 11 0 0 1 27 16h2A13 13 0 0 0 6 7.68V4H4v8h8zm8 12h5.22A11 11 0 0 1 5 16H3a13 13 0 0 0 23 8.32V28h2v-8h-8z"},null,-1)]))}const $e=y({name:"carbon-renew",render:ze}),Me={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Ne(d,s){return r(),c("svg",Me,s[0]||(s[0]=[t("path",{fill:"currentColor",d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14m0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4"},null,-1),t("path",{fill:"currentColor",d:"M20.59 22L15 16.41V7h2v8.58l5 5.01z"},null,-1)]))}const Fe=y({name:"carbon-time",render:Ne}),Be={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"};function Ve(d,s){return r(),c("svg",Be,s[0]||(s[0]=[t("path",{fill:"currentColor",d:"M2 26h28v2H2zM25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4zm-5-5L24 7.6l-3 3L17.4 7zM6 22v-3.6l10-10l3.6 3.6l-10 10z"},null,-1)]))}y({name:"carbon-edit",render:Ve});const Le=V({__name:"NoteStatic",props:{no:{},class:{},clicksContext:{}},setup(d){const s=d,{info:i}=ue(s.no);return(m,f)=>{var v,x;return r(),u(Ce,{class:L(s.class),note:(v=e(i))==null?void 0:v.note,"note-html":(x=e(i))==null?void 0:x.noteHTML,"clicks-context":m.clicksContext},null,8,["class","note","note-html","clicks-context"])}}}),He={class:"bg-main h-full slidev-presenter"},Pe={class:"relative grid-section next flex flex-col p-2 lg:p-4"},Re={key:1,class:"h-full flex justify-center items-center"},De={key:0,class:"grid-section note of-auto"},Ee={key:1,class:"grid-section note grid grid-rows-[1fr_min-content] overflow-hidden"},Ae={class:"border-t border-main py-1 px-2 text-sm"},Te={class:"grid-section bottom flex"},Ge={class:"text-2xl pl-2 pr-6 my-auto tabular-nums"},Ie={class:"progress-bar"},We=V({__name:"presenter",setup(d){const s=$();pe(),_e(s),fe();const{clicksContext:i,currentSlideNo:m,currentSlideRoute:f,hasNext:v,nextRoute:x,slides:H,getPrimaryClicks:P,total:R}=O(),{isDrawing:D}=de();Q({title:`Presenter - ${U}`}),$(!1);const{timer:E,resetTimer:w}=X(),A=C(()=>H.value.map(k=>Y(k))),a=C(()=>i.value.current<i.value.total?[f.value,i.value.current+1]:v.value?[x.value,0]:null),h=C(()=>a.value&&A.value[a.value[0].no-1]);M(a,()=>{h.value&&a.value&&(h.value.current=a.value[1])},{immediate:!0});const S=G();return I(()=>{const k=s.value.querySelector("#slide-content"),o=W(ee()),b=te();M(()=>{if(!b.value||D.value||!oe.value)return;const l=k.getBoundingClientRect(),p=(o.x-l.left)/l.width*100,_=(o.y-l.top)/l.height*100;if(!(p<0||p>100||_<0||_>100))return{x:p,y:_}},l=>{se.cursor=l})}),(k,o)=>{var z;const b=Z,l=J,p=Fe,_=$e;return r(),c(K,null,[t("div",He,[t("div",{class:L(["grid-container",`layout${e(ne)}`])},[t("div",{ref_key:"main",ref:s,class:"relative grid-section main flex flex-col"},[n(F,{key:"main",class:"p-2 lg:p-4 flex-auto","is-main":"",onContextmenu:e(xe)},{default:g(()=>[n(ve,{"render-context":"presenter"})]),_:1},8,["onContextmenu"]),(r(),u(ye,{key:(z=e(f))==null?void 0:z.no,"clicks-context":e(P)(e(f)),class:"w-full pb2 px4 flex-none"},null,8,["clicks-context"])),o[3]||(o[3]=t("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Current ",-1))],512),t("div",Pe,[a.value&&h.value?(r(),u(F,{key:"next"},{default:g(()=>[(r(),u(me,{key:a.value[0].no,"clicks-context":h.value,route:a.value[0],"render-context":"previewNext"},null,8,["clicks-context","route"]))]),_:1})):(r(),c("div",Re,o[4]||(o[4]=[t("div",{class:"text-gray-500"}," End of the presentation ",-1)]))),o[5]||(o[5]=t("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Next ",-1))]),S.value&&e(re)?(r(),c("div",De,[n(e(S))])):(r(),c("div",Ee,[(r(),u(Le,{key:`static-${e(m)}`,no:e(m),class:"w-full max-w-full h-full overflow-auto p-2 lg:p-4",style:N({fontSize:`${e(ae)}em`}),"clicks-context":e(i)},null,8,["no","style","clicks-context"])),t("div",Ae,[n(B,{title:"Increase font size",onClick:e(le)},{default:g(()=>[n(b)]),_:1},8,["onClick"]),n(B,{title:"Decrease font size",onClick:e(ie)},{default:g(()=>[n(l)]),_:1},8,["onClick"]),q("",!0)])])),t("div",Te,[n(he,{persist:!0}),o[6]||(o[6]=t("div",{"flex-auto":""},null,-1)),t("div",{class:"timer-btn my-auto relative w-22px h-22px cursor-pointer text-lg",opacity:"50 hover:100",onClick:o[2]||(o[2]=(...T)=>e(w)&&e(w)(...T))},[n(p,{class:"absolute"}),n(_,{class:"absolute opacity-0"})]),t("div",Ge,j(e(E)),1)]),(r(),u(we,{key:2}))],2),t("div",Ie,[t("div",{class:"progress h-3px bg-primary transition-all",style:N({width:`${(e(m)-1)/(e(R)-1)*100+1}%`})},null,4)])]),n(ke),n(ge),n(be)],64)}}}),st=ce(We,[["__scopeId","data-v-cd7fa90b"]]);export{st as default};
