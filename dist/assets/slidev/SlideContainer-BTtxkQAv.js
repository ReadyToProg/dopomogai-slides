import{p as h,B as c,z as n,N as z,d as j,az as I,aj as P,ai as y,K as C,o as m,e as w,f as D,a as g,n as d}from"../modules/vue-H4SylcjB.js";import{W as B,a3 as o,a4 as W,a5 as q,a as A,E as _,Q as $,w as M,x as k,F,a6 as H,_ as K}from"../index-DMNPsdFc.js";function L(a){var e;return{info:h(((e=B(a))==null?void 0:e.meta.slide)??null),update:async()=>{}}}const f={};function ee(a){function e(t){return f[t]??(f[t]=L(t))}return{info:n({get(){return e(c(a)).info.value},set(t){e(c(a)).info.value=t}}),update:async(t,s)=>{const r=e(s??c(a)),l=await r.update(t);return l&&(r.info.value=l),l}}}const i=z({});let Q=[],T=[];o(i,"$syncUp",!0);o(i,"$syncDown",!0);o(i,"$paused",!1);o(i,"$onSet",a=>Q.push(a));o(i,"$onPatch",a=>T.push(a));W();o(i,"$patch",async()=>!1);const U=q(i,i,!0);class V{constructor(){this._capturePromises=new Map}getSnapshot(e){const t=U.state[e];if(!t)return;const s=B(e);if(s&&(t==null?void 0:t.revision)===(s==null?void 0:s.meta.slide.revision))return t.image}async captureSnapshot(e,t,s=1e3){}async _captureSnapshot(e,t,s){}}const x=new V,G=["id"],J=["id"],O=["src"],R=j({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},isMain:{type:Boolean,default:!1},no:{type:Number,required:!1},useSnapshot:{type:Boolean,default:!1}},setup(a){const e=a,{isPrintMode:t}=A(),s=h(null),r=I(s),l=h(null),E=n(()=>e.width??r.width.value),N=n(()=>e.width?e.width/_.value:r.height.value),u=n(()=>$.value&&!t.value?+$.value:Math.min(E.value/M.value,N.value/k.value)),b=n(()=>({height:`${k.value}px`,width:`${M.value}px`,transform:`translate(-50%, -50%) scale(${u.value})`,"--slidev-slide-scale":u.value})),p=n(()=>e.width?{width:`${e.width}px`,height:`${e.width/_.value}px`}:{});e.isMain&&P(n(()=>`:root { --slidev-slide-scale: ${u.value}; }`)),y(F,u),y(H,l);const v=n(()=>{if(!(!e.useSnapshot||e.no==null))return x.getSnapshot(e.no)});return C(()=>{s.value&&e.useSnapshot&&e.no!=null&&x.captureSnapshot(e.no,s.value)}),(S,X)=>v.value?(m(),w("img",{key:1,src:v.value,class:"w-full object-cover",style:d(p.value)},null,12,O)):(m(),w("div",{key:0,id:a.isMain?"slide-container":void 0,ref_key:"container",ref:s,class:"slidev-slide-container",style:d(p.value)},[D("div",{id:a.isMain?"slide-content":void 0,ref_key:"slideElement",ref:l,class:"slidev-slide-content",style:d(b.value)},[g(S.$slots,"default",{},void 0,!0)],12,J),g(S.$slots,"controls",{},void 0,!0)],12,G))}}),te=K(R,[["__scopeId","data-v-bb434f30"]]);export{te as S,L as a,ee as u};
